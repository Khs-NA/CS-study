# 중앙처리장치(CPU) 작동 원리
- 연산장치
- 제어장치
- 레지스터

## 연산장치
산술연산과 논리연산 수행

연산에 필요한 데이터를 레지스터에서 가져오고, 연산 결과를 다시 레지스터로 보냄

## 제어장치
명령어를 순서대로 실행할 수 있도록 제어하는 장치
주기억장치에서 프로그램 명령어를 꺼내 해독하고, 그 결과에 따라 명령어 실행에 필요한 제어 신호를 기억장치, 연산장치, 입출력장치로 보냄

또한, 이들 장치가 보낸 신호를 받아, 다음에 수행할 동작을 결정함

## 레지스터
고속 기억장치임

명령어 주소, 코드, 연산에 필요한 데어터, 연산 결과 등을 임시로 저장

용도에 따라 범용 레지스터와 특수목적 레지스터로 구분됨
- 범용 레지스터 : 연산에 필요한 데이터나 연산 결과를 임시로 저장
- 특수목적 레지스터 : 특별한 용도로 사용하는 레지스터

특수 목적 레지스터 중 중요한 것들
- MAR(메모리 주소 레지스터) : 읽기와 쓰기 연산을 수행할 주기억장치 주소에 저장
- PC(프로그램 카운터) : 다음에 수행할 명령어 주소 저장
- IR(명령어 레지스터) : 현재 실행 중인 명령어 저장
- MBR(메모리 버퍼 레지스터) : 주기억장치에서 읽어온 데이터, 저장할 데이터를 임시 저장
- AC(누산기) : 연산 결과 임시 저장

## 작동원리
1. 명령 해석(instruction decoding) : CPU는 주기억장치(메모리)에 저장된 프로그램 명령을 읽어 들입니다. 이때, 명령어는 이진수로 표현된 기계어로 작성되어 있습니다.
2. 명령 해독(instruction fetch) : CPU는 프로그램 카운터(다음 실행할 명령어의 주소를 나타내는 레지스터)를 사용하여 메모리에서 다음 명령어를 가져옵니다.
3. 연산 수행(Execution) : CPU는 가져온 명령어를 해석하고 실행합니다. 명령어는 다양한 연산을 수행할 수 있으며, 이는 산술 연산, 논리 연산, 메모리 접근 등이 포함됩니다.
4. 레지스터 활용(Register Usage) : CPU에는 레지스터라 불리는 소량의 고속 기억장치가 포함되어 있습니다. 레지스터는 빠른 속도로 데이터를 저장하고 전달하는 역할을 합니다.
5. 제어 신호 발생(Control Signals) : CPU는 명령어를 실행하는 동안에도 여러 제어 신호를 생성하여 데이터의 이동, 저장, 연산 등을 관리합니다.
6. 파이프라인(Pipeline) : 일부 고급 CPU는 명령어 처리를 더 효율적으로 하기 위해 파이프라인을 사용합니다. 파이프라인은 여러 단계로 나누어 명령어를 병렬로 처리하는 방식입니다.
7. 캐시 활용(Cache Usage) : CPU에는 메모리에서 빠르게 데이터를 읽어오기 위한 캐시 메모리가 포함되어 있습니다. 캐시는 주기억장치보다 빠른 속도로 데이터에 접근할 수 있도록 도와줍니다.

### 요약
1. 주기억장치는 입력장치에서 입력받은 데이터 또는 보조기억장치에서 저장된 프로그램 읽어옴
2. CPU는 프로그램을 실행하기 위해 주기억장치에 저장된 프로그램 명령어와 데이터를 읽어와 처리하고 결과를 다시 주기억장치에 저장
3. 주기억장치는 처리 결과를 보조기억장치에 저장하거나 출력장치로 보냄
4. 제어장치는 1~3 과정에서 명령어가 순서대로 실행되도록 각 장치를 제어

## 명령어 세트
> CPU가 실행할 명령어의 집합

연산 코드(Operation Code) + 피연산자(Operand)로 이루어짐
연산 코드 : 실행할 연산
피연산자 : 필요한 데이터, 저장위치

연산 코드는 연산, 제어, 데이터 전달, 입출력 기능을 가짐
피연산자는 주소, 숫자, 문자, 논리 데이터 등을 저장